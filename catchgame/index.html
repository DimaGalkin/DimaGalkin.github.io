<html>
    <head>
        <title>Catch Game!</title>
        
        <link rel="stylesheet" href="index.css">

        <script src="sketch.js"></script>
        <script src="js/game.js"></script>
        <script src="js/player.js"></script>
        <script src="js/items.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    </head>

    <script>
        function validateInput() {
            var uname = document.getElementById("uname").value;
            
            if (uname.length < 1 || uname.length > 15) {
                alert("Username must be between 1 and 15 characters long!");
                return false;
            }

            return true;
        }

        function start() {
            if (!validateInput()) {
                return;
            }

            document.querySelector(".start").style.display = "none";
            document.querySelector('canvas').style.display = "block";
            GAME.draw = () => GAME.drawGame();
        }

        function gameOver() {
            GAME = new Game();

            document.querySelector(".gameOver").style.display = "none";
            document.querySelector(".start").style.display = "block";

            GAME.draw = () => GAME.drawStart();
        }

        if (navigator.userAgent.match(/(iPod|iPhone|iPad)/) || navigator.userAgent.match(/(Android)/)) {
            alert("This game is not supported on mobile devices!");
            while (true) {}
        }

    </script>

    <body>
        <div class = "start">
            <div class = "mainGroup">
                <div class = "title waveanim">
                    <b>C</b>
                    <b>a</b>
                    <b>t</b>
                    <b>c</b>
                    <b>h</b>
                    <b>&nbsp;</b>
                    <b>G</b>
                    <b>a</b>
                    <b>m</b>
                    <b>e</b>
                    <b>!</b>
                </div>

                <div class = "buttonGroup">
                    <div class="aligner">
                        <input type="text" id="uname" placeholder="Enter Your Name:"></input>
                        <div class="button" onclick="start()">Start Game</div>
                    </div>
                </div>
            </div>
        </div>

        <div class = "gameOver">
            <div class = "title waveanim">
                <b>G</b>
                <b>a</b>
                <b>m</b>
                <b>e</b>
                <b>&nbsp;</b>
                <b>O</b>
                <b>v</b>
                <b>e</b>
                <b>r</b>
                <b>!</b>
            </div>
            
            <div class="btng">
                <table id = "scoretable">
                </table>

                <div class="button" onclick="gameOver()">Play Again</div>
            </div>
        </div>
    </body>
</html>